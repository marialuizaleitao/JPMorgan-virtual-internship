{"ast":null,"code":"class DataStreamer {\n  static getData(callback) {\n    const request = new XMLHttpRequest();\n    request.open('GET', DataStreamer.API_URL, false);\n    request.onload = () => {\n      if (request.status === 200) {\n        callback(JSON.parse(request.responseText));\n      } else {\n        alert('Request failed');\n      }\n    };\n    request.send();\n  }\n}\nDataStreamer.API_URL = 'http://localhost:8080/query?id=1';\nexport default DataStreamer;","map":{"version":3,"names":["DataStreamer","getData","callback","request","XMLHttpRequest","open","API_URL","onload","status","JSON","parse","responseText","alert","send"],"sources":["C:/Users/Kleiton/OneDrive/Documentos/Git/JPMorgan-virtual-internship/forage-jpmc-swe-task-3/src/DataStreamer.ts"],"sourcesContent":["export interface Order {\r\n  price: number,\r\n  size: number,\r\n}\r\nexport interface ServerRespond {\r\n  stock: string,\r\n  top_bid: Order,\r\n  top_ask: Order,\r\n  timestamp: Date,\r\n}\r\n\r\nclass DataStreamer {\r\n  static API_URL: string = 'http://localhost:8080/query?id=1';\r\n\r\n  static getData(callback: (data: ServerRespond[]) => void): void {\r\n    const request = new XMLHttpRequest();\r\n    request.open('GET', DataStreamer.API_URL, false);\r\n\r\n    request.onload = () => {\r\n      if (request.status === 200) {\r\n        callback(JSON.parse(request.responseText));\r\n      } else {\r\n        alert ('Request failed');\r\n      }\r\n    }\r\n\r\n    request.send();\r\n  }\r\n}\r\n\r\nexport default DataStreamer;"],"mappings":"AAWA,MAAMA,YAAY,CAAC;EAGjB,OAAOC,OAAOA,CAACC,QAAyC,EAAQ;IAC9D,MAAMC,OAAO,GAAG,IAAIC,cAAc,CAAC,CAAC;IACpCD,OAAO,CAACE,IAAI,CAAC,KAAK,EAAEL,YAAY,CAACM,OAAO,EAAE,KAAK,CAAC;IAEhDH,OAAO,CAACI,MAAM,GAAG,MAAM;MACrB,IAAIJ,OAAO,CAACK,MAAM,KAAK,GAAG,EAAE;QAC1BN,QAAQ,CAACO,IAAI,CAACC,KAAK,CAACP,OAAO,CAACQ,YAAY,CAAC,CAAC;MAC5C,CAAC,MAAM;QACLC,KAAK,CAAE,gBAAgB,CAAC;MAC1B;IACF,CAAC;IAEDT,OAAO,CAACU,IAAI,CAAC,CAAC;EAChB;AACF;AAjBMb,YAAY,CACTM,OAAO,GAAW,kCAAkC;AAkB7D,eAAeN,YAAY","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}